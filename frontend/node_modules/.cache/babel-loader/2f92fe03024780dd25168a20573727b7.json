{"ast":null,"code":"import axios from 'axios';\nimport { STAFF_DELETE_FAIL, STAFF_DELETE_REQUEST, STAFF_DELETE_SUCCESS, STAFF_LIST_FAIL, STAFF_LIST_REQUEST, STAFF_LIST_SUCCESS, STAFF_REGISTER_FAIL, STAFF_REGISTER_REQUEST, STAFF_REGISTER_SUCCESS, STAFF_SALARY_FAIL, STAFF_SALARY_REQUEST, STAFF_SALARY_SUCCESS } from '../constants/staffConstants';\nexport const PaySalary = (staffname, staffid, salaryForTheYear, salaryForTheMonth, salaryAmount) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: STAFF_SALARY_REQUEST\n    });\n    const {\n      userLogin: {\n        userCred\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userCred.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/STAFFs/fees/${staffname}/${staffid}`, {\n      salaryForTheYear,\n      salaryForTheMonth,\n      salaryAmount\n    }, config);\n    dispatch({\n      type: STAFF_SALARY_SUCCESS,\n      payload: data\n    });\n    //we are getting  the json data from our backend request so we need to convert it into the\n    //string before we save them in our local storage of our  browser\n  } catch (error) {\n    dispatch({\n      type: STAFF_SALARY_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\n\n//STAFF REGISTER\n\nexport const staffregister = (staff_name, qualification, address, contact_no, gender, previous_school, age, email, estimated_salary, image, work) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: STAFF_REGISTER_REQUEST\n    });\n    //we need to send headers information so we declaring it inside the config\n    const {\n      userLogin: {\n        userCred\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userCred.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post('/api/staffs/register', {\n      staff_name,\n      qualification,\n      address,\n      contact_no,\n      gender,\n      previous_school,\n      age,\n      email,\n      estimated_salary,\n      image,\n      work\n    }, config);\n    dispatch({\n      type: STAFF_REGISTER_SUCCESS,\n      payload: data\n    });\n    //we are getting  the json data from our backend request so we need to convert it into the\n    //string before we save them in our local storage of our  browser\n  } catch (error) {\n    dispatch({\n      type: STAFF_REGISTER_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\n\n//FOLLOWING IS FOR DELETING THE STAFF\n\nexport const deleteStaff = id => async dispatch => {\n  try {\n    dispatch({\n      type: STAFF_DELETE_REQUEST\n    });\n    const {\n      data\n    } = await axios.delete(`/api/staffs/delete/${id}`);\n    dispatch({\n      type: STAFF_DELETE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: STAFF_DELETE_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\n\n//STAFF all\n\nexport const listStaffs = () => async dispatch => {\n  try {\n    dispatch({\n      type: STAFF_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get('/api/staffs');\n    dispatch({\n      type: STAFF_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: STAFF_LIST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"names":["axios","STAFF_DELETE_FAIL","STAFF_DELETE_REQUEST","STAFF_DELETE_SUCCESS","STAFF_LIST_FAIL","STAFF_LIST_REQUEST","STAFF_LIST_SUCCESS","STAFF_REGISTER_FAIL","STAFF_REGISTER_REQUEST","STAFF_REGISTER_SUCCESS","STAFF_SALARY_FAIL","STAFF_SALARY_REQUEST","STAFF_SALARY_SUCCESS","PaySalary","staffname","staffid","salaryForTheYear","salaryForTheMonth","salaryAmount","dispatch","getState","type","userLogin","userCred","config","headers","Authorization","token","data","post","payload","error","response","message","staffregister","staff_name","qualification","address","contact_no","gender","previous_school","age","email","estimated_salary","image","work","deleteStaff","id","delete","listStaffs","get"],"sources":["/Users/deepakyadav/Documents/IWT-Project/frontend/src/actions/staffActions.js"],"sourcesContent":["import axios from 'axios'\nimport {\n  STAFF_DELETE_FAIL,\n  STAFF_DELETE_REQUEST,\n  STAFF_DELETE_SUCCESS,\n  STAFF_LIST_FAIL,\n  STAFF_LIST_REQUEST,\n  STAFF_LIST_SUCCESS,\n  STAFF_REGISTER_FAIL,\n  STAFF_REGISTER_REQUEST,\n  STAFF_REGISTER_SUCCESS,\n  STAFF_SALARY_FAIL,\n  STAFF_SALARY_REQUEST,\n  STAFF_SALARY_SUCCESS,\n} from '../constants/staffConstants'\n\nexport const PaySalary = (\n  staffname,\n  staffid,\n\n  salaryForTheYear,\n  salaryForTheMonth,\n  salaryAmount\n) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: STAFF_SALARY_REQUEST,\n    })\n    const {\n      userLogin: { userCred },\n    } = getState()\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userCred.token}`,\n      },\n    }\n    const { data } = await axios.post(\n      `/api/STAFFs/fees/${staffname}/${staffid}`,\n      {\n        salaryForTheYear,\n        salaryForTheMonth,\n        salaryAmount,\n      },\n      config\n    )\n    dispatch({\n      type: STAFF_SALARY_SUCCESS,\n      payload: data,\n    })\n    //we are getting  the json data from our backend request so we need to convert it into the\n    //string before we save them in our local storage of our  browser\n  } catch (error) {\n    dispatch({\n      type: STAFF_SALARY_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    })\n  }\n}\n\n//STAFF REGISTER\n\nexport const staffregister = (\n  staff_name,\n\n  qualification,\n\n  address,\n\n  contact_no,\n  gender,\n  previous_school,\n\n  age,\n  email,\n  estimated_salary,\n  image,\n  work\n) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: STAFF_REGISTER_REQUEST,\n    })\n    //we need to send headers information so we declaring it inside the config\n    const {\n      userLogin: { userCred },\n    } = getState()\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userCred.token}`,\n      },\n    }\n    const { data } = await axios.post(\n      '/api/staffs/register',\n      {\n        staff_name,\n\n        qualification,\n\n        address,\n\n        contact_no,\n        gender,\n        previous_school,\n\n        age,\n        email,\n        estimated_salary,\n        image,\n        work,\n      },\n      config\n    )\n    dispatch({\n      type: STAFF_REGISTER_SUCCESS,\n      payload: data,\n    })\n    //we are getting  the json data from our backend request so we need to convert it into the\n    //string before we save them in our local storage of our  browser\n  } catch (error) {\n    dispatch({\n      type: STAFF_REGISTER_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    })\n  }\n}\n\n//FOLLOWING IS FOR DELETING THE STAFF\n\nexport const deleteStaff = (id) => async (dispatch) => {\n  try {\n    dispatch({\n      type: STAFF_DELETE_REQUEST,\n    })\n    const { data } = await axios.delete(`/api/staffs/delete/${id}`)\n    dispatch({\n      type: STAFF_DELETE_SUCCESS,\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({\n      type: STAFF_DELETE_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    })\n  }\n}\n\n//STAFF all\n\nexport const listStaffs = () => async (dispatch) => {\n  try {\n    dispatch({\n      type: STAFF_LIST_REQUEST,\n    })\n    const { data } = await axios.get('/api/staffs')\n    dispatch({\n      type: STAFF_LIST_SUCCESS,\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({\n      type: STAFF_LIST_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    })\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}